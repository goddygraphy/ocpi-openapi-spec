paths:
  /hubclientinfo:
    get:
      tags:
        - Hub Client Info
      summary: Get hub client info
      description: |
        Retrieve hub client information.
        Role: Hub (sender), CPO/eMSP (receiver)
        See OCPI Spec 2.2.1 Module 9.
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                required:
                  - status_code
                  - data
                properties:
                  status_code:
                    type: integer
                  status_message:
                    type: string
                  timestamp:
                    $ref: '../../common/definitions.yaml#/components/schemas/DateTime'
                  data:
                    $ref: '#/components/schemas/HubClientInfo'
        '400':
          $ref: '../components/responses.yaml#/components/responses/BadRequest'
        '401':
          $ref: '../components/responses.yaml#/components/responses/Unauthorized'
        '500':
          $ref: '../components/responses.yaml#/components/responses/InternalServerError'
    
    put:
      tags:
        - Hub Client Info
      summary: Push hub client info
      description: |
        Push hub client information to the receiver.
        Role: Hub (sender), CPO/eMSP (receiver)
        See OCPI Spec 2.2.1 Module 9.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HubClientInfo'
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '../../common/definitions.yaml#/components/schemas/ResponseFormat'
        '400':
          $ref: '../components/responses.yaml#/components/responses/BadRequest'
        '401':
          $ref: '../components/responses.yaml#/components/responses/Unauthorized'
        '409':
          $ref: '../components/responses.yaml#/components/responses/Conflict'
        '500':
          $ref: '../components/responses.yaml#/components/responses/InternalServerError'

components:
  schemas:
    HubClientInfo:
      type: object
      required:
        - identifier
        - token
        - url
        - last_updated
      properties:
        identifier:
          $ref: '../../common/definitions.yaml#/components/schemas/CiString36'
          description: "Hub client identifier. See OCPI Spec 2.2.1 Module 9."
        token:
          $ref: '../../common/definitions.yaml#/components/schemas/CiString64'
          description: "Token. See OCPI Spec 2.2.1 Module 9."
        url:
          $ref: '../../common/definitions.yaml#/components/schemas/URL'
        logo:
          type: object
          properties:
            url:
              $ref: '../../common/definitions.yaml#/components/schemas/URL'
            thumbnail:
              $ref: '../../common/definitions.yaml#/components/schemas/URL'
            category:
              type: string
              enum:
                - CHARGER
                - ENTRANCE
                - LOCATION
                - NETWORK
                - OPERATOR
                - OTHER
                - OWNER
            type:
              type: string
              enum:
                - gif
                - jpeg
                - png
                - svg
            width:
              type: integer
              minimum: 0
            height:
              type: integer
              minimum: 0
          description: "Logo. See OCPI Spec 2.2.1 Module 9."
        party_id:
          $ref: '../modules/tokens.yaml#/components/schemas/CiString3'
        country_code:
          $ref: '../../common/definitions.yaml#/components/schemas/CountryCode'
        last_updated:
          $ref: '../../common/definitions.yaml#/components/schemas/DateTime'
      description: "Hub client info. See OCPI Spec 2.2.1 Module 9."
